<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cuestionario ‚Äì Orientaci√≥n FP (CV)</title>

  <style>
    :root{
      --bg:#eef4ff;
      --card:#ffffff;
      --primary:#2f6fed;
      --primary-dark:#1e55c9;
      --line:#dbe7ff;
      --text:#0b1a33;
      --muted:#4b5a77;
      --radius:16px;
      --shadow:0 10px 26px rgba(30,70,160,.12);
      --chip:#eff5ff;
      --soft:#f6f9ff;
      --accent:#7c3aed;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:linear-gradient(180deg,#f4f8ff,#eaf1ff);
      color:var(--text);
    }
    .wrap{
      max-width:980px;
      margin:auto;
      padding:28px;
      position:relative;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:14px;
    }
    .backlink{
      display:inline-flex;
      align-items:center;
      gap:8px;
      color:var(--muted);
      text-decoration:none;
      font-weight:700;
      padding:8px 10px;
      border-radius:12px;
    }
    .backlink:hover{background:rgba(47,111,237,.08)}
    .small{
      color:var(--muted);
      font-weight:700;
      font-size:13px;
    }

    .progressWrap{margin:10px 0 18px;}
    .progressLine{
      height:10px;border-radius:999px;background:rgba(11,26,51,.12);overflow:hidden;
    }
    .progressFill{
      height:100%;width:0%;
      background:linear-gradient(90deg,var(--primary),var(--accent));
      border-radius:999px;transition:width .25s ease;
    }
    .progressMeta{
      display:flex;justify-content:space-between;align-items:center;
      margin-top:8px;color:var(--muted);font-weight:800;font-size:13px;
    }

    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:22px;
      margin-bottom:18px;
    }

    .hero{display:flex;gap:14px;align-items:flex-start;}
    .icon{
      width:44px;height:44px;border-radius:14px;
      background:linear-gradient(135deg,var(--accent),var(--primary));
      display:flex;align-items:center;justify-content:center;
      color:#fff;font-size:20px;font-weight:900;flex:0 0 auto;
    }
    h1{margin:0 0 4px;font-size:26px;color:var(--primary-dark);}
    .desc{margin:0;color:var(--muted);line-height:1.35;font-weight:600;}

    .qblock{
      border:1px solid var(--line);
      background:var(--soft);
      border-radius:16px;
      overflow:hidden;
      margin-top:16px;
    }
    .qhead{
      display:flex;gap:12px;align-items:center;
      padding:16px 16px 10px;
      background:rgba(124,58,237,.06);
      border-bottom:1px solid var(--line);
    }
    .qnum{
      width:28px;height:28px;border-radius:999px;
      background:var(--primary);color:#fff;font-weight:900;
      display:flex;align-items:center;justify-content:center;
      font-size:13px;flex:0 0 auto;
    }
    .qtitle{margin:0;font-size:15px;font-weight:900;color:var(--text);}
    .qhint{margin:2px 0 0;font-size:13px;color:var(--muted);font-weight:600;}
    .qbody{padding:14px 16px 16px;display:flex;flex-direction:column;gap:10px;}

    .optionRow{
      display:flex;align-items:center;gap:10px;
      background:#fff;border:1px solid var(--line);
      border-radius:12px;padding:10px 12px;
    }
    .optionRow input{transform:scale(1.05)}
    .optionRow label{width:100%;cursor:pointer;font-weight:700;color:#1b2b4a;}

    .nav{
      display:flex;justify-content:space-between;gap:12px;
      margin-top:18px;flex-wrap:wrap;
    }
    .btn{
      border:0;border-radius:14px;
      padding:12px 18px;font-size:15px;font-weight:900;cursor:pointer;
    }
    .btnPrimary{background:var(--primary);color:#fff;}
    .btnPrimary:hover{background:var(--primary-dark)}
    .btnGhost{background:rgba(47,111,237,.10);color:var(--primary-dark);}
    .btnGhost:hover{background:rgba(47,111,237,.16)}
    .btnDanger{background:rgba(220,38,38,.10);color:#991b1b;}
    .btnDanger:hover{background:rgba(220,38,38,.16)}
    .btn:disabled{opacity:.55;cursor:not-allowed;}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;}
    @media (max-width: 920px){.grid{grid-template-columns:1fr}}
    .rec{
      border:1px solid var(--line);
      border-radius:16px;
      padding:16px;
      background:#fbfdff;
    }
    .rec h3{margin:0 0 8px;font-size:15px;color:var(--primary-dark);}
    .meta{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px;}
    .chip{
      background:var(--chip);
      border:1px solid var(--line);
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      font-weight:800;
    }
    .motivo{margin:0;color:#22304a;line-height:1.35;font-size:14px}
    .score{margin-top:10px;font-weight:900;color:var(--primary-dark)}
    .jobs{
      margin:10px 0 0;
      padding-left:18px;
      color:#22304a;
      font-size:14px;
      line-height:1.35;
      font-weight:700;
    }

    .btnPick{
      width:100%;
      margin-top:12px;
      background:linear-gradient(90deg,var(--primary),var(--accent));
      color:#fff;
    }
    .btnPick:hover{filter:brightness(.95)}

    pre{
      background:#0b1a33;color:#e6eeff;
      padding:18px;border-radius:14px;
      overflow:auto;max-height:420px;font-size:13px;
    }
    .hide{display:none}

    /* ========= Overlay ‚ÄúPensando‚Ä¶‚Äù ========= */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(11,26,51,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:9999;
      backdrop-filter: blur(3px);
    }
    .overlay.show{display:flex;}
    .overlayCard{
      width:min(520px, 100%);
      background:#fff;
      border-radius:18px;
      border:1px solid rgba(219,231,255,.9);
      box-shadow:0 18px 50px rgba(0,0,0,.25);
      padding:18px;
    }
    .ovTop{display:flex;gap:12px;align-items:center;}
    .spinner{
      width:28px;height:28px;border-radius:999px;
      border:4px solid rgba(47,111,237,.25);
      border-top-color: var(--primary);
      animation: spin 1s linear infinite;
      flex:0 0 auto;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .ovTitle{margin:0;font-weight:950;color:var(--primary-dark);font-size:16px;}
    .ovDesc{margin:6px 0 0;color:var(--muted);font-weight:750;line-height:1.35;font-size:13px;}
  </style>
</head>

<body>

<!-- Overlay -->
<div class="overlay" id="overlay">
  <div class="overlayCard">
    <div class="ovTop">
      <div class="spinner"></div>
      <div>
        <p class="ovTitle">Procesando‚Ä¶</p>
        <p class="ovDesc">Estoy consultando a la IA (Nova Pro). Esto puede tardar unos segundos.</p>
      </div>
    </div>
  </div>
</div>

<div class="wrap">

  <div class="topbar">
    <a class="backlink" href="index.html">‚Üê Volver a bienvenida</a>
    <div class="small" id="catCount">Categor√≠a 1 de 5</div>
  </div>

  <div class="progressWrap">
    <div class="progressLine"><div class="progressFill" id="progressFill"></div></div>
    <div class="progressMeta">
      <span id="progressLeft">Categor√≠a 1 de 5</span>
      <span id="progressRight">20% completado</span>
    </div>
  </div>

  <div class="card" id="wizardCard">
    <div class="hero">
      <div class="icon" id="catIcon">‚ô•</div>
      <div>
        <h1 id="catName">√Åreas de Inter√©s</h1>
        <p class="desc" id="catDesc">Identifica las √°reas que m√°s te apasionan y despiertan tu curiosidad</p>
      </div>
    </div>

    <div id="questionsHost"></div>

    <div class="nav">
      <button class="btn btnGhost" id="btnPrev">Anterior</button>
      <button class="btn btnPrimary" id="btnNext">Siguiente</button>
    </div>
  </div>

  <div class="card hide" id="resultCard">
    <div class="hero">
      <div class="icon">‚úì</div>
      <div>
        <h1>Resultado final</h1>
        <p class="desc">Estas son las <b>3 mejores recomendaciones</b> de ciclos de FP en la Comunidad Valenciana.</p>
      </div>
    </div>

    <div style="height:14px"></div>

    <div id="notaSalarios" class="chip" style="display:inline-block;margin-bottom:12px;"></div>

    <div class="grid" id="cards">
      <div class="rec">Rellena el cuestionario y env√≠a a la IA üôÇ</div>
    </div>

    <div class="nav" style="justify-content:flex-end">
      <button class="btn btnDanger" id="btnAgain">Reiniciar</button>
    </div>
  </div>

  <div class="card hide" id="jsonCard">
    <h1 style="font-size:20px;margin:0 0 10px;color:var(--primary-dark)">JSON devuelto por la IA</h1>
    <pre id="output">{ }</pre>
  </div>
  



</div>

<script>
const questionnaireData = [
  {
    id: "interests",
    name: "√Åreas de Inter√©s",
    description: "Identifica las √°reas que m√°s te apasionan y despiertan tu curiosidad",
    icon: "heart",
    questions: [
      { id: "q1", text: "¬øQu√© √°reas acad√©micas te resultan m√°s interesantes?", options: [
        "Ciencias (Biolog√≠a, Qu√≠mica, F√≠sica)",
        "Tecnolog√≠a e Inform√°tica",
        "Matem√°ticas y L√≥gica",
        "Lenguas y Literatura",
        "Ciencias Sociales (Historia, Geograf√≠a)",
        "Arte y Dise√±o",
        "M√∫sica y Artes Esc√©nicas",
        "Educaci√≥n F√≠sica y Deportes",
        "Econom√≠a y Empresa"
      ]},
      { id: "q2", text: "¬øQu√© actividades disfrutas hacer en tu tiempo libre?", options: [
        "Resolver puzzles o juegos de l√≥gica",
        "Programar o usar tecnolog√≠a",
        "Leer o escribir",
        "Dibujar, dise√±ar o crear contenido",
        "Hacer deporte o actividad f√≠sica",
        "Ayudar a otros o hacer voluntariado",
        "Aprender cosas nuevas por mi cuenta",
        "Organizar actividades o liderar grupos",
        "Vender, negociar o emprender"
      ]},
      { id: "q3", text: "¬øEn qu√© entornos te sientes m√°s c√≥modo trabajando?", options: [
        "En un laboratorio o entorno cient√≠fico",
        "En una oficina con ordenadores y tecnolog√≠a",
        "En un taller o con tareas manuales",
        "En un entorno creativo (arte/dise√±o)",
        "En contacto con personas (atenci√≥n, salud, educaci√≥n)",
        "Al aire libre o con actividad f√≠sica",
        "En un entorno de negocio/empresa",
        "Indistinto, me adapto"
      ]}
    ]
  },
  {
    id: "skills",
    name: "Habilidades y Competencias",
    description: "Descubre tus puntos fuertes y qu√© habilidades quieres potenciar",
    icon: "sparkles",
    questions: [
      { id: "q4", text: "¬øEn qu√© √°reas consideras que tienes m√°s habilidad?", options: [
        "Resolver problemas complejos",
        "Creatividad e innovaci√≥n",
        "Comunicaci√≥n y expresi√≥n",
        "Trabajo en equipo",
        "Organizaci√≥n y planificaci√≥n",
        "Uso de tecnolog√≠a",
        "Habilidad manual o t√©cnica",
        "Negociaci√≥n o ventas",
        "Aprender r√°pido"
      ]},
      { id: "q5", text: "¬øQu√© competencias digitales dominas o te gustar√≠a desarrollar?", options: [
        "Programaci√≥n y desarrollo web",
        "Dise√±o gr√°fico o multimedia",
        "Ciberseguridad",
        "An√°lisis de datos",
        "Ofim√°tica (Word/Excel/Presentaciones)",
        "Redes y sistemas",
        "Marketing digital",
        "Edici√≥n de v√≠deo/foto"
      ]},
      { id: "q6", text: "¬øC√≥mo te describes en situaciones de aprendizaje?", options: [
        "Aprendo mejor haciendo (pr√°ctico)",
        "Me gusta entender la teor√≠a a fondo",
        "Soy constante y disciplinado",
        "Me cuesta mantener la atenci√≥n",
        "Me motiva aprender cosas nuevas",
        "Necesito objetivos claros",
        "Aprendo mejor con ejemplos reales"
      ]}
    ]
  },
  {
    id: "values",
    name: "Valores Profesionales",
    description: "Define qu√© es importante para ti en tu futuro trabajo",
    icon: "briefcase",
    questions: [
      { id: "q7", text: "¬øQu√© aspectos valoras m√°s en un trabajo?", options: [
        "Buen salario",
        "Estabilidad laboral",
        "Creatividad",
        "Ayudar a personas",
        "Trabajo din√°mico (no rutina)",
        "Crecimiento profesional",
        "Flexibilidad horaria",
        "Buen ambiente de trabajo",
        "Impacto social"
      ]},
      { id: "q8", text: "¬øQu√© tipo de contribuci√≥n te gustar√≠a hacer a la sociedad?", options: [
        "Mejorar la salud y el bienestar",
        "Impulsar la tecnolog√≠a y la innovaci√≥n",
        "Proteger el medio ambiente",
        "Educar y formar a otras personas",
        "Crear cultura y entretenimiento",
        "Mejorar la econom√≠a y el empleo",
        "Asegurar la seguridad (f√≠sica o digital)",
        "No lo tengo claro todav√≠a"
      ]}
    ]
  },
  {
    id: "learning",
    name: "Preferencias de Aprendizaje",
    description: "Elige c√≥mo te gustar√≠a estudiar y formarte",
    icon: "graduation",
    questions: [
      { id: "q9", text: "¬øQu√© tipo de formaci√≥n te atrae m√°s?", options: [
        "Formaci√≥n muy pr√°ctica (taller/laboratorio)",
        "Combinaci√≥n teor√≠a + pr√°ctica",
        "Proyectos reales",
        "Aprender con empresas (dual / pr√°cticas)",
        "Aprender de forma m√°s te√≥rica",
        "Cursos cortos y especializados",
        "Estudios m√°s largos"
      ]},
      { id: "q10", text: "¬øQu√© metodolog√≠as de ense√±anza prefieres?", options: [
        "Clases con ejercicios y casos reales",
        "Proyectos en grupo",
        "Aprendizaje por retos",
        "Trabajo individual",
        "V√≠deos y recursos digitales",
        "Explicaciones paso a paso",
        "Evaluaci√≥n continua (peque√±as entregas)"
      ]}
    ]
  },
  {
    id: "expectations",
    name: "Expectativas Futuras",
    description: "Define hacia d√≥nde quieres orientar tu futuro profesional",
    icon: "target",
    questions: [
      { id: "q11", text: "¬øC√≥mo te ves trabajando en el futuro?", options: [
        "En una empresa tecnol√≥gica",
        "En sanidad o servicios sociales",
        "En un entorno creativo (dise√±o, audiovisual)",
        "En educaci√≥n o formaci√≥n",
        "En industria o mantenimiento",
        "En deporte o actividades f√≠sicas",
        "En empresa/administraci√≥n/negocio"
      ]},
      { id: "q12", text: "¬øQu√© nivel de reto y presi√≥n te resulta estimulante?", options: [
        "Bajo: prefiero calma y estabilidad",
        "Moderado: retos asumibles",
        "Alto: me motivan desaf√≠os constantes",
        "Depende del √°rea, puedo adaptarme",
        "No lo tengo claro",
        "Prefiero ir probando"
      ]},
      { id: "q13", text: "¬øEn qu√© sectores te gustar√≠a trabajar?", options: [
        "Inform√°tica / tecnolog√≠a",
        "Sanidad",
        "Educaci√≥n",
        "Deporte",
        "Administraci√≥n y empresa",
        "Dise√±o / audiovisual",
        "Industria",
        "Comercio",
        "Log√≠stica",
        "Medio ambiente",
        "Turismo"
      ]}
    ]
  }
];

let step = 0;
const totalSteps = questionnaireData.length;
const answers = {};

const elCatCount = document.getElementById("catCount");
const elProgFill = document.getElementById("progressFill");
const elProgLeft = document.getElementById("progressLeft");
const elProgRight = document.getElementById("progressRight");
const elCatIcon = document.getElementById("catIcon");
const elCatName = document.getElementById("catName");
const elCatDesc = document.getElementById("catDesc");
const elQuestionsHost = document.getElementById("questionsHost");
const btnPrev = document.getElementById("btnPrev");
const btnNext = document.getElementById("btnNext");

const wizardCard = document.getElementById("wizardCard");
const resultCard = document.getElementById("resultCard");
const jsonCard = document.getElementById("jsonCard");
const cards = document.getElementById("cards");
const output = document.getElementById("output");
const notaSalarios = document.getElementById("notaSalarios");

const overlay = document.getElementById("overlay");

function setBusy(isBusy){
  if(isBusy){
    overlay.classList.add("show");
    btnPrev.disabled = true;
    btnNext.disabled = true;
  }else{
    overlay.classList.remove("show");
    btnPrev.disabled = (step === 0);
    btnNext.disabled = false;
  }
}

function iconChar(icon){
  switch(icon){
    case "heart": return "‚ô•";
    case "sparkles": return "‚ú¶";
    case "briefcase": return "üíº";
    case "graduation": return "üéì";
    case "target": return "üéØ";
    default: return "‚òÖ";
  }
}

function escapeHtml(s){
  return String(s ?? "")
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

function setProgress(){
  const pct = Math.round(((step+1)/totalSteps)*100);
  elCatCount.textContent = `Categor√≠a ${step+1} de ${totalSteps}`;
  elProgLeft.textContent = `Categor√≠a ${step+1} de ${totalSteps}`;
  elProgRight.textContent = `${pct}% completado`;
  elProgFill.style.width = `${pct}%`;
}

function renderStep(){
  const cat = questionnaireData[step];

  setProgress();
  elCatIcon.textContent = iconChar(cat.icon);
  elCatName.textContent = cat.name;
  elCatDesc.textContent = cat.description;

  btnPrev.disabled = (step === 0);
  btnNext.textContent = (step === totalSteps-1) ? "Enviar a la IA" : "Siguiente";

  elQuestionsHost.innerHTML = cat.questions.map((q, idx) => {
    const qSaved = answers[q.id] || [];
    const optionsHtml = q.options.map((opt, i) => {
      const id = `${q.id}_${i}`;
      const checked = qSaved.includes(opt) ? "checked" : "";
      return `
        <div class="optionRow">
          <input type="checkbox" id="${id}" data-qid="${q.id}" value="${escapeHtml(opt)}" ${checked}>
          <label for="${id}">${escapeHtml(opt)}</label>
        </div>
      `;
    }).join("");

    return `
      <div class="qblock">
        <div class="qhead">
          <div class="qnum">${idx+1}</div>
          <div>
            <p class="qtitle">${escapeHtml(q.text)}</p>
            <p class="qhint">Selecciona todas las opciones que te identifiquen</p>
          </div>
        </div>
        <div class="qbody">${optionsHtml}</div>
      </div>
    `;
  }).join("");

  elQuestionsHost.querySelectorAll('input[type="checkbox"][data-qid]').forEach(cb => {
    cb.addEventListener("change", (e) => {
      const qid = e.target.getAttribute("data-qid");
      const val = e.target.value;
      const arr = answers[qid] ? [...answers[qid]] : [];
      if (e.target.checked) {
        if (!arr.includes(val)) arr.push(val);
      } else {
        const idx = arr.indexOf(val);
        if (idx >= 0) arr.splice(idx, 1);
      }
      answers[qid] = arr;
    });
  });
}

function validateStep(){
  const cat = questionnaireData[step];
  for (const q of cat.questions){
    const arr = answers[q.id] || [];
    if (!arr.length){
      alert(`Te falta responder:\n- ${q.text}`);
      return false;
    }
  }
  return true;
}

async function sendToAI(){
  setBusy(true);

  output.textContent = "Consultando a la IA (Nova Pro)...";
  cards.innerHTML = `<div class="rec">Consultando a la IA‚Ä¶</div>`;
  notaSalarios.textContent = "";

  const payload = { version: "1.0", answers: answers };

  try{
    const res = await fetch("http://127.0.0.1:8000/api/orientacion",{
      method:"POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify(payload)
    });

    const json = await res.json();
    output.textContent = JSON.stringify(json, null, 2);

    if (json.ok && json.data && Array.isArray(json.data.recomendaciones)){
      renderTop3(json.data.recomendaciones, json.data.nota_salarios);
    } else {
      cards.innerHTML = `<div class="rec">No se recibieron recomendaciones.</div>`;
    }

    wizardCard.classList.add("hide");
    resultCard.classList.remove("hide");
   // jsonCard.classList.remove("hide");
    window.scrollTo({top:0, behavior:"smooth"});
  }catch(err){
    output.textContent = "Error al conectar con el backend: " + err;
    cards.innerHTML = `<div class="rec">Error de conexi√≥n.</div>`;
    wizardCard.classList.add("hide");
    resultCard.classList.remove("hide");
    jsonCard.classList.remove("hide");
    window.scrollTo({top:0, behavior:"smooth"});
  }finally{
    setBusy(false);
  }
}

function goToDetails(r){
  const ciclo = encodeURIComponent(r.ciclo || "");
  const grado = encodeURIComponent(r.grado || "");
  window.location.href = `detalle.html?ciclo=${ciclo}&grado=${grado}`;
}

function renderTop3(recs, nota){
  notaSalarios.textContent = (nota && String(nota).trim())
    ? nota
    : "Rangos salariales orientativos (pueden variar por provincia, experiencia y empresa).";

  cards.innerHTML = recs.slice(0,3).map((r, idx) => {
    const ciclo = escapeHtml(r.ciclo);
    const grado = escapeHtml(r.grado);
    const familia = escapeHtml(r.familia_profesional);
    const motivo = escapeHtml(r.motivo);
    const salario = escapeHtml(r.rango_salarial || "‚Äî");
    const encaje = Number.isFinite(r.encaje) ? r.encaje : parseInt(r.encaje || "0", 10) || 0;
    const salidas = Array.isArray(r.salidas_laborales) ? r.salidas_laborales : [];

    const salidasHtml = salidas.length
      ? `<ul class="jobs">${salidas.map(s => `<li>${escapeHtml(s)}</li>`).join("")}</ul>`
      : `<div class="chip" style="display:inline-block;margin-top:10px;">Salidas laborales: ‚Äî</div>`;

    return `
      <div class="rec" data-idx="${idx}">
        <h3>${idx+1}. ${ciclo}</h3>
        <div class="meta">
          <span class="chip">${grado}</span>
          <span class="chip">${familia}</span>
          <span class="chip">Salario: ${salario}</span>
        </div>
        <p class="motivo">${motivo}</p>
        <div class="score">Encaje: ${encaje}/100</div>
        ${salidasHtml}
        <button class="btn btnPick" type="button" data-pick="${idx}">Elegir esta opci√≥n</button>
      </div>
    `;
  }).join("");

  const top3 = recs.slice(0,3);
  cards.querySelectorAll("button[data-pick]").forEach(btn => {
    btn.addEventListener("click", (e) => {
      const i = parseInt(e.currentTarget.getAttribute("data-pick"), 10);
      const chosen = top3[i];
      goToDetails(chosen);
    });
  });
}

btnPrev.addEventListener("click", () => {
  if (step > 0){
    step--;
    renderStep();
    window.scrollTo({top:0, behavior:"smooth"});
  }
});

btnNext.addEventListener("click", async () => {
  if (!validateStep()) return;

  if (step < totalSteps-1){
    step++;
    renderStep();
    window.scrollTo({top:0, behavior:"smooth"});
  } else {
    await sendToAI();
  }
});

document.getElementById("btnAgain").addEventListener("click", () => {
  for (const k of Object.keys(answers)) delete answers[k];
  step = 0;
  resultCard.classList.add("hide");
  jsonCard.classList.add("hide");
  wizardCard.classList.remove("hide");
  renderStep();
  window.scrollTo({top:0, behavior:"smooth"});
});

renderStep();
</script>

</body>
</html>
